<div class="mobile-seat-selector" *ngIf="!loading">
  <!-- Header -->
  <header class="mobile-header">
    <button class="back-button" (click)="goBack()">â€¹</button>
    <div class="header-title">
      <h1>{{ section.sectionLabel || section.name }}</h1>
      <p class="available-count">{{ getAvailableSeatsCount() }} seats available</p>
    </div>
    <button class="cart-button" (click)="goToCart()">ðŸ›’</button>
  </header>

  <!-- Error Message -->
  <div class="error-message" *ngIf="selectionError">
    {{ selectionError }}
  </div>
<div class="content-wrapper">
  <!-- Stage Indicator -->
  <div class="stage-indicator">
    <div class="stage-line"></div>
    <div class="stage-label">STAGE</div>
    <div class="view-direction">Looking towards stage</div>
  </div>

  <!-- Seat Grid -->
  <div class="seat-grid">
    <div class="grid-container">

      <!-- Seat rows -->
      <div *ngFor="let row of rows" class="seat-row">
        <div class="row-letter">{{ row.letter }}</div>
        
        <div class="seats-container">
          <div *ngFor="let seat of row.seats" 
               class="seat"
               [class]="'seat-' + seat.status.toLowerCase()"
               [style.background-color]="getSeatColor(seat)"
               (click)="toggleSeatSelection(seat)"
               [title]="getSeatStatusText(seat) + ' - Â£' + seat.price">
            
              <ng-container *ngIf="seat.status !== SeatStatus.BLOCKED">
                  <div class="seat-number">{{ seat.seatNumber }}</div>
              
            
                <!-- Status indicator -->
                <div class="seat-status" *ngIf="seat.status !== SeatStatus.AVAILABLE && seat.status !== SeatStatus.SELECTED">
                  {{ getSeatStatusText(seat).charAt(0) }}
                </div>
              </ng-container>
            
            <!-- Selected checkmark -->
            <div class="seat-selected" *ngIf="seat.status === SeatStatus.SELECTED">
              âœ“
            </div>
          </div>
        </div>
        
        <!-- Row info -->
        <div class="row-info">
          <span class="ticket-type">{{ row.ticketType }}</span>
          <span class="row-price">{{ formatPrice(row.price) }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
  <!-- Selection Summary -->
  <div class="selection-summary sticky-bottom" *ngIf="selectedSeats.length > 0">
    <div class="summary-header">
      <h3>{{ selectedSeats.length }} Seat{{ selectedSeats.length > 1 ? 's' : '' }} Selected</h3>
      <button class="btn-clear" (click)="clearSelection()">Clear All</button>
    </div>
    
 <div class="compact-seats">
    <div *ngFor="let seat of selectedSeats; let i = index" 
         class="seat-chip"
         [style.background-color]="seat.tier.color + '15'"
         [style.border-color]="seat.tier.color">
      <span class="seat-number">{{ seat.row }}{{ seat.id }}</span>
      <span class="seat-tier" [style.color]="seat.tier.color">{{ seat.tier.name }}</span>
      <span class="seat-price-chip">{{ formatPrice(seat.price) }}</span>
    </div>
  </div>
    
    <div class="summary-total">
      <span>Total:</span>
      <span class="total-amount">{{ formatPrice(getTotalPrice()) }}</span>
          <div class="summary-actions">
        <button class="btn-primary" (click)="addToCart()">
          Add to Cart
        </button>
    </div>
    </div>
    

  </div>


</div>