<div class="mobile-seat-selector" *ngIf="!loading">
  <!-- Header -->
  <header class="simple-header">
    <button class="back-btn" (click)="goBack()">
      <span class="back-icon">‚Äπ</span>
    </button>
    <div class="title-section">
      <h1 class="section-title">{{ section.sectionLabel || section.name }}</h1>
      <div class="header-stats">
        <span class="stat">
          <span class="stat-icon">üéØ</span>
          {{ getAvailableSeatsCount() }} available
        </span>
        <span class="stat">
          <span class="stat-icon">üí∞</span>
          {{ formatPrice(getMinPrice()) }}+
        </span>
        <span class="stat">
          <span class="stat-icon">üìä</span>
          {{ getLeftRows().length + getRightRows().length }} rows
        </span>
      </div>
    </div>
  </header>

  <!-- Error Message -->
  <div class="error-message" *ngIf="selectionError" @fadeInOut>
    <span class="error-icon">!</span>
    {{ selectionError }}
  </div>

  <!-- Stage Indicator -->
  <div class="stage-area">
    <div class="stage-container">
      <div class="stage-text">STAGE</div>
      <div class="stage-direction">‚Üì VIEW ‚Üì</div>
    </div>
  </div>

  <!-- Main Seat Map - Continuous Layout -->
  <div class="seat-map-container continuous-layout">
    <div class="seat-map-wrapper">
      <!-- All Rows Combined - No Left/Right Separation -->
      <div class="all-rows-container">
        <!-- Row Labels Column -->
        <div class="row-labels">
          <div *ngFor="let row of getAllRows()" class="row-label">
            {{ row.letter }}
          </div>
        </div>

        <!-- Combined Seats Grid -->
        <div class="combined-seats-grid">
          <div *ngFor="let row of getAllRows()" class="combined-seat-row">
            <div class="seats-in-row">
              <!-- Left Side Seats -->
              <div class="seats-group left-seats" *ngIf="isLeftSideBlock(row.blockLetter)">
                <div *ngFor="let seat of row.seats" 
                     class="seat"
                     [class]="getSeatClass(seat)"
                     (click)="toggleSeatSelection(seat)"
                     [title]="getSeatTooltip(seat)">
                  {{ seat.seatNumber }}
                </div>
                <div class="aisle-marker left">‚Üê Aisle</div>
              </div>

              <!-- Center Gap -->
              <div class="center-gap" *ngIf="hasBothSides()">
                <div class="row-number">{{ row.letter }}</div>
                <div class="view-direction">VIEW ‚Üí</div>
              </div>

              <!-- Right Side Seats -->
              <div class="seats-group right-seats" *ngIf="isRightSideBlock(row.blockLetter)">
                <div class="aisle-marker right">Aisle ‚Üí</div>
                <div *ngFor="let seat of row.seats" 
                     class="seat"
                     [class]="getSeatClass(seat)"
                     (click)="toggleSeatSelection(seat)"
                     [title]="getSeatTooltip(seat)">
                  {{ seat.seatNumber }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Side Indicators -->
    <div class="side-indicators">
      <div class="side left-side">
        <div class="side-marker"></div>
        <span class="side-label">Left Section</span>
      </div>
      <div class="side right-side">
        <span class="side-label">Right Section</span>
        <div class="side-marker"></div>
      </div>
    </div>
  </div>

  <!-- Status Legend -->
  <div class="status-legend compact">
    <div class="status-item">
      <div class="status-indicator available"></div>
      <span>Available</span>
    </div>
    <div class="status-item">
      <div class="status-indicator selected"></div>
      <span>Selected</span>
    </div>
    <div class="status-item">
      <div class="status-indicator sold"></div>
      <span>Sold</span>
    </div>
    <div class="status-item">
      <div class="status-indicator blocked"></div>
      <span>Unavailable</span>
    </div>
  </div>

  <!-- Selection Summary -->
  <div class="selection-summary" *ngIf="selectedSeats.length > 0" @slideUp>
    <div class="summary-header">
      <div class="selection-count">
        <span class="count-badge">{{ selectedSeats.length }}</span>
        <span class="count-text">seat{{ selectedSeats.length > 1 ? 's' : '' }} selected</span>
      </div>
      <div class="total-price-display">
        <span class="total-label">Total:</span>
        <span class="total-amount">{{ formatPrice(getTotalPrice()) }}</span>
      </div>
    </div>
    
    <div class="action-buttons">
      <button class="btn btn-clear" (click)="clearSelection()">
        <span class="btn-icon">üóëÔ∏è</span>
        Clear
      </button>
      <button class="btn btn-primary" (click)="addToCart()">
        <span class="btn-icon">üõí</span>
        Add to Cart
      </button>
    </div>
  </div>
</div>